#summary Mycila Testing Framework
#labels Featured,TODO
#sidebar PluginBar

== Introduction ==

Mycila Testing Framework is not yet another testing framework. There are already plenty of them (Spring, Junit, TestNG, JMock, EasyMock, Mockito, JMock, DbUnit, Powermock, ...). 

Mycila Testing Framework is an *integration framework*. Which means that instead of coupling the setup of your test to these frameworks, you can just setup your test with Mycila. Mycila uses a plugin infrastructure to detect which plugin should enhance your test. This way, you have only one setup to do for all your tests, whether you use jmock, easymock, guice, spring, ... Mycila also provides annotation facilities thanks to plugins, to use IOCs and Mock frameworks easier when they do not have already some annotations.

== Download ==

Mycila Testing Framework is composed of:
 * *mycila-testing-api*: The plugin API and test enhancer
 * *mycila-plugin-XXX*: The plugins. IE. mycila-plugin-jmock

You can download or get the modules:
 * from the [http://code.google.com/p/mycila/downloads/list download section]
 * from our [http://code.google.com/p/mc-repo/ alternate maven repository]
 * from the [http://repo1.maven.org/maven2/com/mycila central maven repository] (if deployed)

== Maven dependency ==

Just add these dependencies to your POM (the API and required dependencies comes transitively), with the plugins you want. See the Module page for a complete list of module.

*Example:*

{{{
<dependency>
    <groupId>com.mycila.testing.plugins</groupId>
    <artifactId>mycila-testing-jmock</artifactId>
    <version>X.Y</version>
</dependency>
<dependency>
    <groupId>com.mycila.testing.plugins</groupId>
    <artifactId>mycila-testing-guice</artifactId>
    <version>X.Y</version>
</dependency>
}}}

== Documentation ==

 * [http://old.mycila.com/p/mycila/mycila-testing/ Reports]: Javadoc, Source XREF, Test reports, Coverages, ...
 * Complete list of [ModuleList available modules] (API and plugins) and their documentation
 * How to [PluginDevelopment create your own plugins]
 * How to [TestingAPI use the test enhancer in the API]

== Samples ==

Here is an example of a unit test using Mycila Testing Framework. In this sample, we use [http://code.google.com/p/google-guice/ Google Guice] and [http://code.google.com/p/mockito/ Mockito].

{{{
import com.mycila.testing.core.TestSetup;
import org.apache.activemq.command.ActiveMQMapMessage;
import org.apache.activemq.command.ActiveMQObjectMessage;
import org.apache.activemq.command.ActiveMQTextMessage;
import org.mockito.Mock;
import org.mockito.Mockito;
import static org.mockito.Mockito.*;
import org.testng.annotations.BeforeClass;
import org.testng.annotations.Test;

import javax.jms.JMSException;
import java.io.Serializable;

/**
 * @author Mathieu Carbou (mathieu.carbou@gmail.com)
 */
public final class MessageListenerDelegateTest {

    @Mock
    JMSMessageListener listener1;

    @BeforeClass
    public void setup() {
        TestSetup.setup(this);
    }

    @Test
    public void test_onMessage() throws JMSException {
        MessageListenerDelegate delegate = new MessageListenerDelegate(null);

        delegate.addListener(Serializable.class, listener1);

        delegate.onMessage(new ActiveMQMapMessage());
        delegate.onMessage(new ActiveMQTextMessage());
        ActiveMQObjectMessage msg = new ActiveMQObjectMessage();
        delegate.onMessage(msg);
        msg.setObject(new Integer(5));
        delegate.onMessage(msg);

        verify(listener1, times(3)).onMessage(Mockito.<JMSMessageImpl>anyObject());
    }
}
}}}

Here is an example of a unit test using Mycila Testing Framework. In this sample, we use Spring and JMock.

{{{

}}}